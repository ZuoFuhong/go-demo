## 简易的聊天室

1.建立连接，每个TCP长连接使用一个goroutine处理字节流的输入

2.心跳

3.TCP拆包粘包

```
遵循TLV的协议格式，一个消息包分为三部分，消息类型（两个字节），消息包内容长度（两个字节），消息内容。
这里为了减少内存分配，拆出来的包的内存复用读缓存区内存。
拆包流程：
1.首先从系统缓存区读取字节流到buffer
2.根据包头的length字段，检查报的value字段的长度是否大于等于length
3.如果大于，返回一个完整包（此包内存复用），重复步骤2
4.如果小于，将buffer的有效字节前移，重复步骤1
```

4.保存映射（用户标识->TCP连接）
